(this.webpackJsonpap=this.webpackJsonpap||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(34),r=a.n(i),c=(a(47),a(35)),o=a(36),l=a(40),m=a(37),u=a(41),p=a(9),g=a.n(p),d=a(10),f=a.n(d),h=a(38),v=(a(113),a(39)),y=new(a.n(v).a),C={decodeEntities:!0,transform:function e(t,a){if("tag"===t.type&&"a"===t.name)return t.name="div",Object(p.convertNodeToElement)(t,a,e)}};var w=function(e){function t(){var e;Object(c.a)(this,t);var a=(e=Object(l.a)(this,Object(m.a)(t).call(this))).getHashParams().access_token;return a&&y.setAccessToken(a),e.state={previousSong:"",error:"",result:"",loggedIn:!!a,nowPlaying:{name:"Not Checked",albumArt:""},accessToken:"client_id=".concat("dCaAP65mI-95i43a6mNi0YQC1URQp1mXXgz2esWQj9R3k5F38Ep3vhfXqBxJP1Lk","&client_secret=").concat("Kuya3LOdXf9BW-S828Z6b608jEumUYbbAwCoECI5M37zgdB1hE5ZeC85KvCPZaOjyYl7axVG7U9BmJSZwGrUxg","&access_token=").concat("nwBKz8e1MymcySxIM5Ia4Ct5uHMURU_0R58tvzMWvmIIPZTDCpAmwMgZoqcrQUVk")},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"getHashParams",value:function(){var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(e=a.exec(n);e;)t[e[1]]=decodeURIComponent(e[2]),e=a.exec(n);return t}},{key:"getNowPlaying",value:function(){var e=this,t="",a="";y.getMyCurrentPlaybackState().then((function(n){t=n.item.artists[0].name,a=n.item.name,e.setState({nowPlaying:{artist:n.item.artists[0].name,name:n.item.name,albumArt:n.item.album.images[0].url,error:""}})})).then((function(n){if(t.length>1&&(t=(t=t.replace(/[\/\\#+$\u271d~%*<>{}]/g,"")).replace(/\s+/g,"%20").toLowerCase()),-1!==a.indexOf("-")&&(a=a.substring(0,a.indexOf("-")-1)),-1!==a.indexOf("(")||-1!==a.indexOf("/")){if(-1!==a.indexOf("/")){var s=a.indexOf("/");a=" "===a[s-1]?a.slice(0,a.indexOf("/")-1):a.slice(0,a.indexOf("/")+1)}if(-1!==a.indexOf("(")&&"("!==a[0]){var i=a.indexOf("(");a=" "===a[i-1]?a.slice(0,a.indexOf("(")-1):a.slice(0,a.indexOf("(")+1)}}a=a.replace(/[\/\\#+$\u271d~%*<>{}().]/g,""),e.state.previousSong.toLowerCase()===a.toLowerCase()&&""!==e.state.previousSong||(a=a.replace(/\s+/g,"%20").toLowerCase(),f.a.get("https://api.genius.com/search?q=".concat(t,"%20").concat(a,"&client_id=").concat("dCaAP65mI-95i43a6mNi0YQC1URQp1mXXgz2esWQj9R3k5F38Ep3vhfXqBxJP1Lk","&client_secret=").concat("Kuya3LOdXf9BW-S828Z6b608jEumUYbbAwCoECI5M37zgdB1hE5ZeC85KvCPZaOjyYl7axVG7U9BmJSZwGrUxg","&access_token=").concat("nwBKz8e1MymcySxIM5Ia4Ct5uHMURU_0R58tvzMWvmIIPZTDCpAmwMgZoqcrQUVk")).then((function(t){var n=t.data.response.hits[0].result.url;f.a.get("https://cors-anywhere.herokuapp.com/"+n,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}}).then((function(t){var s,i,r,c=t.data,o=n.split("-");-1!==a.indexOf("%")?(i=a.lastIndexOf("%"),r=a.slice(i+3).replace(/[\/\\']/g,"")):(i=a.length+1,r=a.slice(0,i).replace(/[\/\\']/g,"")),s=o.includes(r)?Object(h.parse)(c).querySelector(".lyrics"):"Sorry, couldn't find any lyrics",e.setState({result:s,previousSong:a.replace(/%20/g," "),error:""},(function(){}))}))})))})).catch((function(t){console.log("ERROR: "+t),e.setState({error:t})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-Row",id:"top"},s.a.createElement("div",{className:"App-Login"},s.a.createElement("button",{onClick:function(){return e.getNowPlaying()}},s.a.createElement("a",{href:"http://localhost:8888"},"Login to Spotify"))),this.state.nowPlaying.artist&&s.a.createElement("div",{className:"App-Artist"},s.a.createElement("div",{className:"App-Playing"},s.a.createElement("div",null,"Now Playing:")),s.a.createElement("div",{className:"App-Artist-Cover"},s.a.createElement("img",{ref:function(t){e.imgRef=t},crossOrigin:"anonymous",src:this.state.nowPlaying.albumArt,style:{height:250}})),s.a.createElement("div",{className:"App-Artist-Info"},s.a.createElement("h2",{className:"App-Artist-Current"},this.state.nowPlaying.artist),s.a.createElement("h4",{className:"App-Artist-Song"},this.state.nowPlaying.name))),this.state.error&&s.a.createElement("div",{className:"App-Error"},"Session has expired. Please login to your Spotify account and start playing a song"),this.state.loggedIn&&s.a.createElement("div",{className:"App-Check-Current"},s.a.createElement("button",{onClick:function(){return e.getNowPlaying()}},"Check Now Playing"))),s.a.createElement("div",{className:"App-Row",id:"bottom"},this.state.result&&s.a.createElement("div",{className:"App-Lyrics"},g()(this.state.result,C))))}}]),t}(n.Component);r.a.render(s.a.createElement(w,null),document.getElementById("root"))},42:function(e,t,a){e.exports=a(114)},47:function(e,t,a){},72:function(e,t){}},[[42,1,2]]]);
//# sourceMappingURL=main.24130a50.chunk.js.map